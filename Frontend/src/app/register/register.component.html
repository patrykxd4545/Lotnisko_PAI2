<div class=" Hero signupwrapper">
  <div class = 'signupcontainer'>
    <h1 class='signupform__heading'>Signup</h1>
    <form class="signupform" #f="ngForm" novalidate (ngSubmit) = "f.form.valid && onSubmit()">
      <div class="row">
        <div class="col-12 col-md-5 inputgroup">
          <div>
            <label class="label">Display name:</label>
            <input class="input--style-4" type="text" name="displayName" [(ngModel)]="form.displayName" required autocomplete="off"
                   #displayName="ngModel">
          </div>
          <div *ngIf="displayName.invalid && (displayName.dirty || displayName.touched ||f.submitted)">
            <small *ngIf="displayName.errors.required">
              Enter a nickname!
            </small>
          </div>
        </div>
        <div class="col-12 col-md-5 inputgroup">
          <div>
            <label class="label">First name:</label>
            <input class="input--style-4" type="text" name="fName" [(ngModel)]="form.fName" required autocomplete="off"
            #fName="ngModel">
            <div *ngIf="fName.invalid && (fName.dirty || fName.touched ||f.submitted)">
              <small *ngIf="fName.errors.required">
                First name is required.
              </small>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12 col-md-5 inputgroup">
          <div>
            <label class="label">Last name:</label>
            <input class="input--style-4" type="text" name="lName" [(ngModel)]="form.lName" required autocomplete="off"
                   #lName="ngModel">
            <div *ngIf=" lName.invalid && (lName.dirty || lName.touched ||f.submitted)">
              <small *ngIf="lName.errors.required">
                Last Name is required.
              </small>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-5 inputgroup">
          <div>
            <label class="label">Date of birth:</label>
            <input class="input--style-4"  onfocus="(this.type='date')" onblur="(this.type='text')" name="dateOfBirth"
                   type='text' [(ngModel)]='form.dateOfBirth' required autocomplete="off" #dateOfBirth="ngModel">
            <div *ngIf = "dateOfBirth.invalid && (dateOfBirth.dirty || dateOfBirth.touched ||f.submitted)">
              <small *ngIf = "dateOfBirth.errors.required">
                Date Of Birth is required!
              </small>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-5 inputgroup">
          <div class="pwdcontainer">
            <label class="label">Password:</label>
            <input class="input--style-4"  type="password" name="password" required [(ngModel)]="form.password"
                   autocomplete="off" ngModel #password = "ngModel"
                   minlength="8"  pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&].{8,}">
            <div *ngIf="password.invalid && (password.dirty || password.touched ||f.submitted)">
              <small *ngIf="password.errors?.required">Password is required</small>
              <small *ngIf="password.errors?.minlength">Password must be at least 8 charachters</small>
              <small *ngIf="password.errors?.pattern">Alphanumeric with at least 1 special & uppercase character</small>
            </div>

          </div>
        </div>
        <div class="col-12 col-md-5 inputgroup">
          <div class="pwdcontainer">
            <label class="label">Confirm Password:</label>
            <input class="input--style-4"  type="password" name="matchingPassword" [(ngModel)]="form.matchingPassword"
                   required autocomplete="off" #matchingPassword="ngModel">
          </div>

          <div *ngIf="matchingPassword.invalid && (matchingPassword.dirty || matchingPassword.touched ||f.submitted)">
            <small *ngIf="matchingPassword.errors?.required">Password is required</small>
            <small *ngIf="matchingPassword.errors?.notEqual">Passswords do not match</small>
          </div>
        </div>

      </div>

      <div class="row">
        <div class="col-12 col-md-5 inputgroup">
          <div>
            <label class="label">Email:</label>
            <input class="input--style-4" type="email" name="email" [(ngModel)]="form.email" required autocomplete="off"
                   #email="ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"  >
            <div *ngIf="email.invalid && (email.dirty || email.touched ||f.submitted)">
              <small><mat-error *ngIf="email.errors?.required">Email is a required field</mat-error></small>
              <small *ngIf="email.errors?.pattern">This is not a valid Email</small>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-5 inputgroup">
          <div>
            <label class="label">Phone Number:</label>
            <input class="input--style-4" type="tel" name="contactNo" [(ngModel)]="form.contactNo" required autocomplete="off" ngModel
                   #contactNo="ngModel" minlength="9" maxlength="9" pattern="^[0-9]*$">
            <div *ngIf=" contactNo.invalid && (contactNo.dirty || contactNo.touched||f.submitted)">
              <div><small *ngIf = "contactNo.errors.pattern">Enter a valid Phone number</small></div>
              <small *ngIf="contactNo.errors?.required">Phone Number is a required field</small>
              <small *ngIf="contactNo.errors?.minlength">Phone number must be of 10 digits</small>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-11 inputgroup bt">
          <button type="submit" class="submitbtn" > Sign Up </button>
        </div>
        <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
          Signup failed!<br />{{ errorMessage }}
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-11 inputgroup bt">
          <a class="login" [routerLink]="['/login']">Already have an account? Login <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
        </div>
      </div>


    </form>
    <div class="alert alert-success" *ngIf="isSuccessful">Your registration is successful!</div>
  </div>
</div>
